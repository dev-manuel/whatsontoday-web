language: scala
jdk: oraclejdk8
scala:
- 2.12.2
node_js: '6'
notifications:
  slack: whatsontoday:K22qCdNZ7GFj20Hrt8hU3DoS
env:
  global:
  - USER="whats-on-today-bot"
  - EMAIL="whats-on-today-bot@whats-on.today"
  - REPO="WhatsOnToday.github.io"
  - GH_REPO="github.com/WhatsOnToday/WhatsOnToday.github.io.git"
  - secure: isBfSQxqlC31yZiT0Jb9Oe/BOxKz7rEBDsMuYinKgQe+24w8Qm4GGKKiqnoqbihaP+MSwlSoL6kfm8XsD8Vq4VAZJqPJUiZ8ZWLkwqbNjCGbn9VsPSqg//bVmGYBAmZQnW/5dRyK0LCCneXkywvo9+G2TX5xzR1kMBEbTccQrJHi/DUzQp3q/UP3TECSAoQIR3wDZcUEWC/bjMjvKjYju++BHY5j3rUMCpmHnuxK9SJsIG8GwqmAqxZK/RYgpixd4p8Mfy2u0Eqgp+81Ek1BNb4ncq/dqe9KgeYNdpKZBEQPQc1Gb/AZaXSdZ/L1tDQiKCAB6ZxZTh2zldh9AMQp3ilQKBnJwjHB4Y49SinntYPNh/d0mDo1+EPeYCtLGO+ymnyPZSRbstoOyRMTis7iMNeFIFpCeL0HGoODcA1LJH0/bxpmB3Xi4rWSoMUSQkS/ZrQbf/VKL/gvGm37cLSRZSrCjiv7VM2dvdNt8ox0m7JLNkfiTQfeGubW/jTM94bqD/s5Avvl9boJObgm36E692lgjOFCuHP6OGKea9oqNiH9WojNYmI9gmf1uLfIwmpmLOVEAJsoeZvtKq3Th9O+TNUmQbxUrYw/0qm9/NDKQ0g5b2nzFfd4nT1LwEAVncyBCLX/XsQq72SxMGi/PtpxvrXLNFlphktMdiXXdXlBoJU=
  - secure: Yrf18kn2JXkhVrAx+GJLOhNWUNLucoOYisY0A7Xm3kEo3zNcofZ8xvktgHiwhtQLlUa95vHOyQTIdUYfkGJMD/btXzR4Q24Tu16IamsB3R8LKGzuGuKuXBmxsoaZyyk/U1jm9mtFle6IynV98P4zSWzO60pK3Anr+flCzDSjMz8nMORp19bjr54kr/Ebqk5fy1rIAe5B7NPtJiJKt+KAimmQ6ZhqknPdkZMDp2UO0Gfyj3Gx2+jJmbYCoXF53SGYoCHtWcfYjUjvn3WFMDqhtN678e2C/Nj0ShsAsET4/XpUs/y8nc5s1O+oXL1hD6Kowc7a8v0DeJciEXmImrbQV8rcOAjpqXjw4oZm6G+pXGnUajl94TgrJqR2UL4f2FZMUt+4hSGgPDEsOL75rxG82UrdN7AmucXnvgD3ye6f/U0P6vBQhPS0/a64ugnQuQabz47YhaBEc0gHD+9KJsCMFDttem8uf4hcTwwuDSZXTzlzJznO+eOB8K7iP876nbDzIU+eD0xmg4pVTNbLiYNl0FO/xwo/+3p46Hjr0JQTfQNU4Hz8/eQr0zdZGnftyl5klLxz+tNVcWKew+XB5fsZGcj+vAy9uGQrkiuj5a/FsI0vd6BsYy3V6SSRFbXeJJxHlBah+0F0Ft5CDtQm8Hzoupbcb4qXkBlXC7i8B5ULzxc=
  - secure: D7R0pZhoNz+aF3C19spgjbztWRZWmHZylR0uuad3XlKOg/NvhO/lruCP40H/V/nyMzOWk1mt+7p0lpMn8GgWMbkUEE3e4IADHf3dYFkitGYgxW7PLEZTbLUHIfT2YPHqBexuMD/yoDqPxJaVlr49qSx/BVLuPJ1dD/z6noXxVp9ca/TrHzccJWCTvopIv9y9pXJMg80X1ygWYLUk9kIHXuymtxp0aCdLox1Db0Ai7ZC6L3zd0RZKJ43Wk8SgCLQBgi435iiUxafyFinGE9T1TY+F2EZrKmF8JsSma6053b/I29RPsIYKqjeZvJijiEW+dod7xmSWub1IFBqcMRBEyHzd+nza9foXTZfllOtkJCoY9XYHaYWwEUpu6I6/ErpbzbXfx2DEc7pi2f3bnuNHDLr0S1V4i6Qg/ah28EdilqZqjnp+wlUCg1yHgX9twtCwSLE+oikWbwbN/3GTKhWa1CEkq4eirmS/Q76FadW0fDw7SYAKX0NxXeQWfgCwElQcwNTVHdD6yiyxKCYfnQBjEbOPaMHJgBy01CnWEDsg0oYjZbVkoFDM9uSeXWJVLEzA9hzszueZxZLzt+SWKxws8YqLgIij+3awPHxB9aK0bF3kaUXHfOfwwxJZDvh6g+pbTdMpAPKjSrHPoazaZTLcBIutj4/Uj2C30aNedsAkgTs=
  - secure: eJQFgDEWs9fSOF2rIcJ+/Hznfuuf1BEdt3GqdCojuwab0xSWzUOHpUaycGjVQGjuhL9jXGoS0f8+IqAv+n7u/Pj/uao0bLNgaWXN73MvjbJyHya71SGc0gFuVYTBoKU+YHOWWobM7XGZwx+O838YEFMcDgsNTcG9K2yWzxEqAMXU0fEvX/VBtBwZ5BHSDhm8PiWm9DdOTIEfYcEhQtJ2OxK729CKBW86NoUOgOqagAfVpOWy+M2BW/U3DLXx2fQ0uamAeMa4Tg94KD5InmLjDSvJYkusFudtBcWzRE0pzMAP0UkczMF+PfOufk0kPL4mlLJE4bt533cpqvFR/zzU18r9O1jBCZBUnNXXpBT0cTKbnMoME7KqAx44BADphuhBIR8Z2jatjUmlMpzGV+Ke3i7NUnxYO3vC/BJFb/wsAI9VjK7qaXmmar1fRKBNzRDcd2NukvenS+LwmzPFH6rOdOIHvOYGOgU6QygQ3jyeIYfIOsZSCR9ontmXcYXykmlOW5xaOEgbnldVm9dotOEKY+h7eW3zjJYji5S2ZpvVcYkO2sco5AffenSJ38hd0HgXZTRZzLaYfmLiYCtN2/WIXWBY0j1MOuDWwhgwZIK96D5VJqLZq3tAuA2xnGEgD1O7ctmc7kGju7cDkCuC3JTwpbJNyf/3Fq87gQcn740ZiNU=
  - secure: dDK5wbh5LI2S3IQtM18OvwQBYXIZzXqEBiaFAAQ7Zi2UTyQZR+RgOBWYH2NxbUgxDeP/p9Hm0cLGKhj4wdIh/H1urX8FYw/wRyA6emiyRydfQ2CWAX2n0ekVIyfWEK3u0lsa/H07y4efzkAIbazI2tTHyocekCBWHeZGF/TOxmFeMjLf6uEUIF5QlHJzlirwNlsptGnffdMSszwN2nEWq35y9c8YY76gSzk8K4q0nlUwYMw6oe0+NZ7btzLilUoPBKoOPWmPC+MuU8NWF5RRIaw2yEjtuhMi2fXYBZRgN27JgoVv3LhpTMuLVy8ZBufTaGeqN99viUZiMYidrEgUPl2Z1pmsGE/fEzBN0zqeRk8xY9u7Jw0M3nqo8chPGmv+jYG3ERnt8K/nx6vgpukUp72F4LxQ+e9qWmeErvo/kABkYKi16tNYzTL/YxjuFhxrxYTBLbNkiz+Z7OKJhYI8oFpmyBQkIM7vqp2aKC3Pwrfm8nr01zv1l58rtzuGWZbCTFdbZty7Yz8z3MWUWcIOLSlZIuEuzS0vfA19nytXm+oBHExpTFwbi0vRtUae/dutKT3+Mj0VaN54Dj2XLcTNt5ruSkFfQBuoFhYPr7TPheVsmpbv3Zbj+Wjq7cywY4nXkETqYVqNu4IDHz85rjVJpB7tZcvk4BrxKMmnlx6N/4Y=
  - secure: CIsEbB3/3HjB6uQIErOrPx0H8Gk1HP9CIMFZJvr3wzwbeoTw6oMmRZKeCZSOBOOHLQMeiW9QH6hdIATvoebksLDM+0lpfMpfJ89a1somQw/a06mp1/AKVMbbStqaJ2z1uz7AWjiSSvIctuVUvXKqMYWg26VIRSKHC4z3dtORbie7EwRNh4heEJVU0CNQJRDG3uXiGdakx0q7TdRa/AiiD2XEfTrgZEsj9IOj/riJr7H4mXx6TTIQciaWMWCDOLcvlvwEWLtacSYP974jjdB83iyfEne06kjavD1DdYbouMdMhmEan+h6C/i/U2/rtunpePR5vCBnrQQ1os6OQhsVjt1hua/UC6NsLubF5jjBYtEHfUILmcY9D01M1r5suP1QALSMm2Jxx/MtMW1/nsZO7GRKG7jU0R0/nMljp3cJ58snjdaa1pPl6cxw906W0hFcJ2If1criTZ3Ka/WfP/tadsroOLNuUs1vgaUfYvhT8e5iJsfb/Kw6Q2FqXaGgKnc5syKGtb4duWfeMHz3odpPyJP/f4cU518cYevBYlMJbJljKmEZoUUn133cl02vFnZ99rQp56GEQ8KsJfcPU2yBpNekl6jDEt3MXVc836qM/NqJDqNlAn4wVIYpFD+NxCrSvdtOytnc+PGbyvKQag8u9klBmVFeNz7PWsaq+Q1jF6c=
  - secure: NEttDkjt/Xa7XTB3MYjE5BcC5bKdN3fyieWFpMHdMmnJ98LhI7yxD/ULJrc7cbQdTpyjnWdytzytG3pbIZ/60b2JPBqU6Q5d3lRDAC2hv4ee2lu7Ncoaf8/L5woC/Z48Ld0yHkq2Z0dGE5loUHx4EpiFYeE48Cv+r9AaSXqFOYIr8MHxE7h27HHqEbZJBtsgVY9O+9WeIT8yI7XhOYHck61lLq+JV5E4XMAO/f+BqF+qL8YzG/tGpN1gHyr/jTQ0qzmyrI7zqcpfhGD7Eq+DUKXS+9KDO58fE1AihotY+vnTyY+ERL5c66yfBnBbDNFLFnxqd6QS8wqwX3Cc499lwEf/E0hek6FdWNElpxuTMZcoI/L429JfrnyfEmZhiVq5euqQCmWeWq16aMzqKOBFf9CBVuLle6ChCx9/bz5F7L98TMvFl2C0TchDmDUgVfJ4kdPQkTEo/Yjs5ATeqEZfEPfn17NCRow7Q/oYCY07FlhhdTJkf6Sd3jJYbPimXoq0TTnj2Z4bRU8tlXFg8ZNr44yFK4Y1T3/UoIAFvj8+WMZJ1jw6PRzNrtm+41MkXhExEsrtByx/mTNBeQo5ncfSXX5biSreXnBHGkOexyLEoon6WQiJuQZ7AvBjbgQY27TRr+eTAxjseVT1aNqqRkrSlwRVOSYZAvoUJUgDfrL7itU=
services:
- postgresql
before_install:
- sudo apt-get -qq update
- sudo apt-get install -y sshpass
before_script:
- psql -c 'create database "WhatsOnDBTest";' -U postgres
script: "./travis/build.sh"
sudo: false
cache:
  directories:
  - "$HOME/.ivy2/cache"
  - "$HOME/.sbt"
  - "./webapp/node_modules/"
before_cache:
- find $HOME/.ivy2/cache -name "ivydata-*.properties" -print -delete
- find $HOME/.sbt        -name "*.lock"               -print -delete
after_success: "./travis/success.sh && ./travis/deploy.sh"
